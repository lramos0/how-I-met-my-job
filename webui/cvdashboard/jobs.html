<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>üéØ Job Matching Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-light">
    <div class="container py-5" id="dashboard" data-src="../../data/job_postings.csv">
        <h2 class="text-center fw-bold mb-4">üéØ Job Matching Dashboard</h2>

        <!-- Resume Summary -->
        <div class="card p-4 shadow-sm mb-4">
            <h5 class="fw-bold">üßæ Resume Summary</h5>
            <div id="resumeSummary" class="bg-light p-3 border rounded small"></div>
        </div>

        <!-- Search Bar -->
        <div class="card p-4 shadow-sm mb-4">
            <h5 class="fw-bold">üîç Quick Search</h5>
            <div class="input-group">
                <input type="text" id="globalSearch" class="form-control form-control-lg" placeholder="Search jobs by title, company, location..." aria-label="Global job search">
                <button class="btn btn-primary" type="button" onclick="performGlobalSearch()">Search</button>
            </div>
        </div>

        <!-- Filters -->
        <div class="card p-4 shadow-sm mb-4">
            <h5 class="fw-bold">üìã Filter Job Listings</h5>
            <form id="filterForm" onsubmit="event.preventDefault(); filterJobs();">
                <!-- Row 1: Dropdowns -->
                <div class="row g-3 mb-3">
                    <div class="col-md-3">
                        <label for="filterCompany" class="form-label">Company</label>
                        <select id="filterCompany" class="form-select" aria-label="Company filter">
                            <option value="">-- All Companies --</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="filterTitle" class="form-label">Job Title</label>
                        <select id="filterTitle" class="form-select" aria-label="Job title filter">
                            <option value="">-- All Titles --</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="filterLocation" class="form-label">Location</label>
                        <select id="filterLocation" class="form-select" aria-label="Location filter">
                            <option value="">-- All Locations --</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="filterIndustry" class="form-label">Industry</label>
                        <select id="filterIndustry" class="form-select" aria-label="Industry filter">
                            <option value="">-- All Industries --</option>
                        </select>
                    </div>
                </div>

                <!-- Row 2: Salary & Sort -->
                <div class="row g-3 mb-3">
                    <div class="col-md-2">
                        <label for="minSalary" class="form-label">Min Salary ($)</label>
                        <input type="number" id="minSalary" class="form-control" placeholder="0" min="0">
                    </div>
                    <div class="col-md-2">
                        <label for="maxSalary" class="form-label">Max Salary ($)</label>
                        <input type="number" id="maxSalary" class="form-control" placeholder="999999" min="0">
                    </div>
                    <div class="col-md-4">
                        <label for="sortBy" class="form-label">Sort By</label>
                        <select id="sortBy" class="form-select" aria-label="Sort results">
                            <option value="relevance">-- Relevance (Match Score) --</option>
                            <option value="score_desc">Match Score (High to Low)</option>
                            <option value="score_asc">Match Score (Low to High)</option>
                            <option value="company">Company Name (A-Z)</option>
                            <option value="date_new">Newest Posted</option>
                            <option value="salary_high">Highest Salary</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label" style="display: block;">&nbsp;</label>
                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary flex-grow-1">Apply Filters</button>
                            <button type="button" class="btn btn-outline-secondary" onclick="clearFilters()">Clear</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <!-- Results -->
        <div class="card p-4 shadow-sm">
            <h5 class="fw-bold">üìä Matching Jobs</h5>
            <div id="jobResults" class="mt-3"></div>
            <canvas id="matchChart" height="100" class="mt-4"></canvas>
        </div>
    </div>

    <script src="jobs.js"></script>
</body>

</html>