<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>ðŸŽ¯ Job Matching Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-light">
    <div class="container py-5">
        <h2 class="text-center fw-bold mb-4">ðŸŽ¯ Job Matching Dashboard</h2>

        <!-- Data / status message (populated by jobs.js) -->
        <div id="dataMessage" class="mb-3"></div>

        <!-- Stacked: Resume + Search on top, then Filters, then Results -->
        <div class="card p-2 shadow-sm mb-3 compact">
            <div class="row align-items-center g-2">
                <div class="col-md-4">
                    <h6 class="fw-bold mb-1">ðŸ§¾ Resume</h6>
                    <div id="resumeSummary" class="bg-light p-2 border rounded small"></div>
                </div>
                <div class="col-md-8">
                    <div class="d-flex align-items-center gap-2">
                        <input type="text" id="globalSearch" class="form-control form-control-sm"
                            placeholder="Search jobs by title, company, location..." aria-label="Global job search">
                        <button class="btn btn-primary btn-sm" type="button"
                            onclick="performGlobalSearch()">Search</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="card p-2 shadow-sm mb-3 compact">
            <div class="d-flex justify-content-between align-items-center">
                <h6 class="fw-bold mb-0">Filter Job Listings</h6>
            </div>

            <div class="row g-2 mt-2">
                <div class="col-md-3">
                    <select id="filterCompany" class="form-select form-select-sm">
                        <option value="any">-- Any Company --</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select id="filterTitle" class="form-select form-select-sm">
                        <option value="any">-- Any Job Title --</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select id="filterLocation" class="form-select form-select-sm">
                        <option value="any">-- Any Location --</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select id="filterIndustry" class="form-select form-select-sm">
                        <option value="any">-- Any Industry --</option>
                    </select>
                </div>
            </div>
            <!-- Additional filters: seniority, employment type, posted date -->
            <div class="row g-2 mt-2">
                <div class="col-md-4">
                    <select id="filterSeniority" class="form-select form-select-sm">
                        <option value="any">-- Any Seniority --</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <select id="filterEmployment" class="form-select form-select-sm">
                        <option value="any">-- Any Employment Type --</option>
                    </select>
                </div>
                <div class="col-md-4 d-flex gap-1">
                    <input type="date" id="postedFrom" class="form-control form-control-sm" placeholder="From">
                    <input type="date" id="postedTo" class="form-control form-control-sm" placeholder="To">
                </div>
            </div>

            <div class="row g-2 mb-3 mt-3 compact">
                <div class="col-md-2">
                    <label for="minSalary" class="form-label small">Min $</label>
                    <input type="number" id="minSalary" class="form-control form-control-sm" placeholder="0" min="0">
                </div>
                <div class="col-md-2">
                    <label for="maxSalary" class="form-label small">Max $</label>
                    <input type="number" id="maxSalary" class="form-control form-control-sm" placeholder="999999"
                        min="0">
                </div>
                <div class="col-md-4">
                    <label for="sortBy" class="form-label small">Sort</label>
                    <select id="sortBy" class="form-select form-select-sm" aria-label="Sort results">
                        <option value="relevance">-- Relevance --</option>
                        <option value="score_desc">Match Score (High to Low)</option>
                        <option value="score_asc">Match Score (Low to High)</option>
                        <option value="company">Company (A-Z)</option>
                        <option value="date_new">Newest Posted</option>
                        <option value="salary_high">Highest Salary</option>
                    </select>
                </div>
                <div class="col-md-4 d-flex align-items-end">
                    <div class="w-100 d-flex gap-2">
                        <button type="button" class="btn btn-primary btn-sm w-50" onclick="filterJobs()">Apply</button>
                        <button type="button" class="btn btn-outline-secondary btn-sm w-50"
                            onclick="clearFilters()">Clear</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="card p-3 shadow-sm">
            <h5 class="fw-bold">Matching Jobs</h5>
            <div id="jobResults" class="mt-3"></div>
            <canvas id="matchChart" height="100" class="mt-4"></canvas>
        </div>

        <!-- Load prebuilt jobs array (local copy) -->
        <script src="data_as_arrays.js"></script>
        <script src="jobs.js"></script>
</body>

</html>